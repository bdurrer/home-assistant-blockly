<html>

<head>
  <!--
  <script src="blockly/blocks_compressed.js"></script>
  <script src="blockly/msg/js/en.js"></script>
  -->

  <script src="../blockly/blockly_uncompressed.js"></script>
  <script src="../blockly/msg/messages.js"></script>
  <script src="../blockly/appengine/storage.js"></script>

  <!-- https://github.com/jeffsu/json2yaml -->
  <script src="../json2yaml-master/src/json2yaml.js"></script>

  <link rel="stylesheet" href="blockly.css">
  <title>Automation Configurator</title>
</head>
<body>

<div id="blocklyArea"></div>
<div id="output">
    <pre id="yamlArea"></pre>
    <pre id="jsonArea"></pre>
</div>
<div id="blocklyDiv"></div>

<xml xmlns="http://www.w3.org/1999/xhtml" id="toolbox" style="display: none;">
  <category name="Triggers" colour="#80a55b">
    <block type="trigger_sun">
      <field name="upordown">sunset</field>
    </block>
    <block type="trigger_template"></block>
    <block type="trigger_event">
      <field name="event_type">[[my event]]</field>
    </block>
    <block type="trigger_mqtt">
      <field name="topic">[[/my/topic]]</field>
    </block>
    <block type="trigger_state">
      <field name="entity_id">[[entity id]]</field>
    </block>
    <block type="trigger_numeric_state">
      <field name="entity_id">[[entity id]]</field>
    </block>
    <block type="trigger_time">
      <field name="type">on</field>
      <field name="minutes">0</field>
      <field name="seconds">0</field>
      <field name="minutes_int">0</field>
      <field name="seconds_int">0</field>
    </block>
    <block type="trigger_zone">
      <field name="entity_id">[[entity id]]</field>
      <field name="event">enter</field>
    </block>
    <block type="trigger_homeassistant">
      <field name="event">start</field>
    </block>
  </category>
  <category name="Conditions" colour="#5b5ba5">
    <block type="condition_logic">
      <field name="logic">or</field>
    </block>
    <block type="condition_zone">
      <field name="entity_id">[[entity id]]</field>
    </block>
    <block type="condition_generic">
      <field name="condition">sun</field>
    </block>
    <block type="condition_sun">
      <field name="beforeafter">before</field>
      <field name="upordown">sunset</field>
    </block>
    <block type="condition_state">
      <field name="entity_id">[[entity id]]</field>
    </block>
    <block type="condition_numeric_state">
      <field name="entity_id">[[entity id]]</field>
    </block>
    <block type="condition_template"></block>
    <block type="condition_time"></block>
  </category>
  <category name="Actions" colour="#a55b5b">
    <block type="action"></block>
    <block type="action_delay"></block>
    <block type="action_wait"></block>
    <block type="action_event">
      <field name="event">[[event]]</field>
    </block>
  </category>
  <category name="Values" colour="#a5935b">
    <block type="val_text">
      <field name="text">[[text]]</field>
    </block>
    <block type="val_number">
      <field name="number">0</field>
    </block>
    <block type="val_template">
      <field name="template">[[template]]</field>
    </block>
    <block type="val_time">
      <field name="hours">0</field>
      <field name="minutes">0</field>
      <field name="seconds">0</field>
    </block>
    <block type="val_time_offset">
      <field name="type">+</field>
      <field name="hours">0</field>
      <field name="minutes">0</field>
      <field name="seconds">0</field>
    </block>
    <block type="val_weekday">
      <field name="mon">TRUE</field>
      <field name="tue">TRUE</field>
      <field name="wed">TRUE</field>
      <field name="thu">TRUE</field>
      <field name="fri">TRUE</field>
      <field name="sat">TRUE</field>
      <field name="sun">TRUE</field>
    </block>
    <block type="val_property"></block>
    <block type="property">
      <field name="name">[[name]]</field>
    </block>
    <block type="val_array"></block>
    <block type="array_element"></block>
  </category>
</xml>
<xml xmlns="http://www.w3.org/1999/xhtml" id="workspaceBlocks" style="display:none"></xml>

<script src="index.js"></script>
</body>

</html>
